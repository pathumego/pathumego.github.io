---
layout: default
---

<div class="project-detail">
  <a href="/work" class="project-detail__back">← Back to Work</a>

  <header class="project-detail__header">
    <div class="project-detail__category-tag">
      <a href="/work">Work</a>
      {% if page.subcategory %}
      <span class="separator">·</span>
      <span>{{ page.subcategory | replace: "-", " " | capitalize }}</span>
      {% endif %}
    </div>

    <h1 class="project-detail__title">{{ page.title }}</h1>

    {% if page.description %}
    <p class="project-detail__lead">{{ page.description }}</p>
    {% endif %}

    <div class="project-detail__meta">
      <div class="meta-item">
        <span class="meta-label">Year</span>
        <span class="meta-value">{{ page.date | date: "%Y" }}{% if page.end_date %}–{{ page.end_date | date: "%Y" }}{% endif %}</span>
      </div>
      {% if page.type %}
      <div class="meta-item">
        <span class="meta-label">Context</span>
        <span class="meta-value">{{ page.type | replace: "-", " " | capitalize }}</span>
      </div>
      {% endif %}
      {% if page.client %}
      <div class="meta-item">
        <span class="meta-label">Client</span>
        <span class="meta-value">{{ page.client }}</span>
      </div>
      {% endif %}
      {% if page.collaborators %}
      <div class="meta-item">
        <span class="meta-label">With</span>
        <span class="meta-value">{{ page.collaborators }}</span>
      </div>
      {% endif %}
      {% if page.status %}
      <div class="meta-item">
        <span class="meta-label">Status</span>
        <span class="meta-value">{{ page.status | capitalize }}</span>
      </div>
      {% endif %}
    </div>
  </header>

  {% if page.thumbnail %}
  <div class="project-detail__hero">
    <img src="{{ page.thumbnail }}" alt="{{ page.title }}">
  </div>
  {% endif %}

  <div class="project-detail__body">
    {{ content }}
  </div>

  {% assign proj_dir = page.path | remove: "index.md" | prepend: "/" %}
  {% assign images_prefix = proj_dir | append: "images/" %}
  {% assign folder_images = site.static_files | where_exp: "f", "f.path contains images_prefix" %}
  {% if folder_images.size > 0 %}
  <div class="project-detail__carousel">
    <div class="carousel" id="proj-carousel" tabindex="0">
      <div class="carousel__track" id="carousel-track">
        {% for f in folder_images %}
        {% assign ext = f.extname | downcase %}
        {% if ext == ".jpg" or ext == ".jpeg" or ext == ".png" or ext == ".gif" or ext == ".webp" or ext == ".avif" %}
        <div class="carousel__slide">
          <img src="{{ page.url }}images/{{ f.name }}" alt="{{ page.title }}" loading="lazy">
        </div>
        {% endif %}
        {% endfor %}
      </div>
      <button class="carousel__btn carousel__btn--prev" aria-label="Previous image">←</button>
      <button class="carousel__btn carousel__btn--next" aria-label="Next image">→</button>
      <div class="carousel__counter"><span id="carousel-cur">1</span> / <span id="carousel-tot"></span></div>
    </div>
  </div>
  {% endif %}

  {% if page.images and page.images.size > 0 %}
  <div class="project-detail__gallery">
    <p class="gallery-heading">Images</p>
    <div class="gallery-grid">
      {% for img in page.images %}
      <div class="gallery-item">
        <img src="{{ img.src | default: img }}" alt="{{ img.caption | default: page.title }}" loading="lazy">
        {% if img.caption %}<p class="gallery-caption">{{ img.caption }}</p>{% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  {% if page.tags and page.tags.size > 0 %}
  <div class="project-detail__tags">
    <span class="tags-label">Tags:</span>
    {% for tag in page.tags %}<span class="tag">{{ tag }}</span>{% endfor %}
  </div>
  {% endif %}

  {% if page.link %}
  <div class="project-detail__cta">
    <a href="{{ page.link }}" target="_blank" rel="noopener" class="btn-cta">View Project ↗</a>
  </div>
  {% endif %}

  <div class="project-detail__nav">
    <a href="/work" class="project-detail__back">← All work</a>
  </div>
</div>

<script>
(function () {
  var el = document.getElementById('proj-carousel');
  if (!el) return;
  var track  = el.querySelector('.carousel__track');
  var slides = Array.from(el.querySelectorAll('.carousel__slide'));
  var n = slides.length;
  if (n === 0) { el.parentElement.style.display = 'none'; return; }

  var curEl  = document.getElementById('carousel-cur');
  var totEl  = document.getElementById('carousel-tot');
  var btnPrev = el.querySelector('.carousel__btn--prev');
  var btnNext = el.querySelector('.carousel__btn--next');

  if (totEl) totEl.textContent = n;
  if (n === 1) {
    if (btnPrev) btnPrev.style.display = 'none';
    if (btnNext) btnNext.style.display = 'none';
    el.querySelector('.carousel__counter').style.display = 'none';
  }

  var idx = 0;
  function go(i) {
    idx = ((i % n) + n) % n;
    track.style.transform = 'translateX(-' + (idx * 100) + '%)';
    if (curEl) curEl.textContent = idx + 1;
  }

  if (btnPrev) btnPrev.addEventListener('click', function () { go(idx - 1); });
  if (btnNext) btnNext.addEventListener('click', function () { go(idx + 1); });

  el.addEventListener('keydown', function (e) {
    if (e.key === 'ArrowLeft')  { go(idx - 1); e.preventDefault(); }
    if (e.key === 'ArrowRight') { go(idx + 1); e.preventDefault(); }
  });
}());
</script>
